

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>GOSTnets package &#8212; GOSTnets</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'GOSTnets';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="README.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="GOSTnets - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="GOSTnets - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="README.html">
                    GOSTnets: Build, process, and analyze networks
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Tutorials/README.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials/Step_1-Extract_From_OSM.html">note: As of Jan 21, 2020 This tutorial is using the GOSTnets version from this repo’s master branch. Make sure that the GOSTnets version from PyPi is uninstalled and that you are pointing your path to the correct location of the library.</a></li>

<li class="toctree-l1"><a class="reference internal" href="Tutorials/Step_2-Clean_Network.html">Step 2: Clean Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials/Step_3-Using_your_Graph.html">Step 3: Using your Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials/EXAMPLE_Finding_links_between_pairs.html">Calculate connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials/EXAMPLE_Fixing_your_road_network.html">Fixing your road network graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials/EXAMPLE_Gravity_Calculations.html">Gravity calculations</a></li>


</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="api/index.html">GOSTnets documentation</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="api/GOSTnets.html">GOSTnets package</a></li>
</ul>
</li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/worldbank/GOSTnets" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/GOSTnets.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>GOSTnets package</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.calculate_od_raw">GOSTnets.calculate_od_raw module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.calculate_od_raw.calculateOD_csv"><code class="docutils literal notranslate"><span class="pre">calculateOD_csv()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.calculate_od_raw.calculateOD_gdf"><code class="docutils literal notranslate"><span class="pre">calculateOD_gdf()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.calculate_od_raw.calculate_gravity"><code class="docutils literal notranslate"><span class="pre">calculate_gravity()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.conversion_utils">GOSTnets.conversion_utils module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.conversion_utils.rasterize_od_results"><code class="docutils literal notranslate"><span class="pre">rasterize_od_results()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.core">GOSTnets.core module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.add_intersection_delay"><code class="docutils literal notranslate"><span class="pre">add_intersection_delay()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.add_missing_reflected_edges"><code class="docutils literal notranslate"><span class="pre">add_missing_reflected_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.add_missing_reflected_edges_old"><code class="docutils literal notranslate"><span class="pre">add_missing_reflected_edges_old()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.advanced_snap"><code class="docutils literal notranslate"><span class="pre">advanced_snap()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.assign_traffic_times"><code class="docutils literal notranslate"><span class="pre">assign_traffic_times()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.calculate_OD"><code class="docutils literal notranslate"><span class="pre">calculate_OD()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.clip"><code class="docutils literal notranslate"><span class="pre">clip()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.combo_csv_to_graph"><code class="docutils literal notranslate"><span class="pre">combo_csv_to_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.convert_network_to_time"><code class="docutils literal notranslate"><span class="pre">convert_network_to_time()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.convert_to_MultiDiGraph"><code class="docutils literal notranslate"><span class="pre">convert_to_MultiDiGraph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.custom_simplify"><code class="docutils literal notranslate"><span class="pre">custom_simplify()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.disrupt_network"><code class="docutils literal notranslate"><span class="pre">disrupt_network()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.edge_gdf_from_graph"><code class="docutils literal notranslate"><span class="pre">edge_gdf_from_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.edges_and_nodes_csv_to_graph"><code class="docutils literal notranslate"><span class="pre">edges_and_nodes_csv_to_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.edges_and_nodes_gdf_to_graph"><code class="docutils literal notranslate"><span class="pre">edges_and_nodes_gdf_to_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.euclidean_distance"><code class="docutils literal notranslate"><span class="pre">euclidean_distance()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.example_edge"><code class="docutils literal notranslate"><span class="pre">example_edge()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.example_node"><code class="docutils literal notranslate"><span class="pre">example_node()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.find_graph_avg_speed"><code class="docutils literal notranslate"><span class="pre">find_graph_avg_speed()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.find_hwy_distances_by_class"><code class="docutils literal notranslate"><span class="pre">find_hwy_distances_by_class()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.generate_isochrones"><code class="docutils literal notranslate"><span class="pre">generate_isochrones()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.gn_project_graph"><code class="docutils literal notranslate"><span class="pre">gn_project_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.graph_edges_intersecting_polygon"><code class="docutils literal notranslate"><span class="pre">graph_edges_intersecting_polygon()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.graph_nodes_intersecting_polygon"><code class="docutils literal notranslate"><span class="pre">graph_nodes_intersecting_polygon()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.gravity_demand"><code class="docutils literal notranslate"><span class="pre">gravity_demand()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.join_networks"><code class="docutils literal notranslate"><span class="pre">join_networks()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.make_iso_polys"><code class="docutils literal notranslate"><span class="pre">make_iso_polys()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.make_iso_polys_original"><code class="docutils literal notranslate"><span class="pre">make_iso_polys_original()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.new_edge_generator"><code class="docutils literal notranslate"><span class="pre">new_edge_generator()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.node_gdf_from_graph"><code class="docutils literal notranslate"><span class="pre">node_gdf_from_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap"><code class="docutils literal notranslate"><span class="pre">pandana_snap()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap_c"><code class="docutils literal notranslate"><span class="pre">pandana_snap_c()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap_points"><code class="docutils literal notranslate"><span class="pre">pandana_snap_points()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap_single_point"><code class="docutils literal notranslate"><span class="pre">pandana_snap_single_point()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap_to_many"><code class="docutils literal notranslate"><span class="pre">pandana_snap_to_many()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.project_gdf"><code class="docutils literal notranslate"><span class="pre">project_gdf()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.randomly_disrupt_network"><code class="docutils literal notranslate"><span class="pre">randomly_disrupt_network()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.remove_duplicate_edges"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.reproject_graph"><code class="docutils literal notranslate"><span class="pre">reproject_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.salt_long_lines"><code class="docutils literal notranslate"><span class="pre">salt_long_lines()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.sample_raster"><code class="docutils literal notranslate"><span class="pre">sample_raster()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.save"><code class="docutils literal notranslate"><span class="pre">save()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.simplify_junctions"><code class="docutils literal notranslate"><span class="pre">simplify_junctions()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.unbundle_geometry"><code class="docutils literal notranslate"><span class="pre">unbundle_geometry()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.utm_of_graph"><code class="docutils literal notranslate"><span class="pre">utm_of_graph()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.fetch_od">GOSTnets.fetch_od module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_od.CreateODMatrix"><code class="docutils literal notranslate"><span class="pre">CreateODMatrix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_od.MarketAccess"><code class="docutils literal notranslate"><span class="pre">MarketAccess()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_od.ReadMe"><code class="docutils literal notranslate"><span class="pre">ReadMe()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.fetch_pois">GOSTnets.fetch_pois module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject"><code class="docutils literal notranslate"><span class="pre">OsmObject</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.tags"><code class="docutils literal notranslate"><span class="pre">OsmObject.tags</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.name"><code class="docutils literal notranslate"><span class="pre">OsmObject.name</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.bbox"><code class="docutils literal notranslate"><span class="pre">OsmObject.bbox</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.path"><code class="docutils literal notranslate"><span class="pre">OsmObject.path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.GenerateOSMPOIs"><code class="docutils literal notranslate"><span class="pre">OsmObject.GenerateOSMPOIs()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.RelationtoPoint"><code class="docutils literal notranslate"><span class="pre">OsmObject.RelationtoPoint()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.RemoveDupes"><code class="docutils literal notranslate"><span class="pre">OsmObject.RemoveDupes()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.Save"><code class="docutils literal notranslate"><span class="pre">OsmObject.Save()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.prepForMA"><code class="docutils literal notranslate"><span class="pre">OsmObject.prepForMA()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gostnets-load-osm-module">GOSTnets.load_osm module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.network_clean">GOSTnets.network_clean module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.network_clean.clean_network"><code class="docutils literal notranslate"><span class="pre">clean_network()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gostnets-optimization-module">GOSTnets.optimization module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.osm_parser">GOSTnets.osm_parser module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node"><code class="docutils literal notranslate"><span class="pre">Node</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node.id"><code class="docutils literal notranslate"><span class="pre">Node.id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node.lon"><code class="docutils literal notranslate"><span class="pre">Node.lon</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node.lat"><code class="docutils literal notranslate"><span class="pre">Node.lat</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node.tags"><code class="docutils literal notranslate"><span class="pre">Node.tags</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.OSM"><code class="docutils literal notranslate"><span class="pre">OSM</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.OSM.nodes"><code class="docutils literal notranslate"><span class="pre">OSM.nodes</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.OSM.ways"><code class="docutils literal notranslate"><span class="pre">OSM.ways</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way"><code class="docutils literal notranslate"><span class="pre">Way</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.id"><code class="docutils literal notranslate"><span class="pre">Way.id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.osm"><code class="docutils literal notranslate"><span class="pre">Way.osm</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.nds"><code class="docutils literal notranslate"><span class="pre">Way.nds</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.tags"><code class="docutils literal notranslate"><span class="pre">Way.tags</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.split"><code class="docutils literal notranslate"><span class="pre">Way.split()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.download_osm"><code class="docutils literal notranslate"><span class="pre">download_osm()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.fetch_roads_OSM"><code class="docutils literal notranslate"><span class="pre">fetch_roads_OSM()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.haversine"><code class="docutils literal notranslate"><span class="pre">haversine()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.line_length"><code class="docutils literal notranslate"><span class="pre">line_length()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.read_osm"><code class="docutils literal notranslate"><span class="pre">read_osm()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets">Module contents</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="gostnets-package">
<h1>GOSTnets package<a class="headerlink" href="#gostnets-package" title="Permalink to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">#</a></h2>
</section>
<section id="module-GOSTnets.calculate_od_raw">
<span id="gostnets-calculate-od-raw-module"></span><h2>GOSTnets.calculate_od_raw module<a class="headerlink" href="#module-GOSTnets.calculate_od_raw" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.calculate_od_raw.calculateOD_csv">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.calculate_od_raw.</span></span><span class="sig-name descname"><span class="pre">calculateOD_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">originCSV</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destinationCSV</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oLat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oLon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dLat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dLon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'init':</span> <span class="pre">'epsg:4326'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculate_snap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.calculate_od_raw.calculateOD_csv" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate OD matrix from csv files of points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> – describes the road network. Often extracted using OSMNX</p></li>
<li><p><strong>origins</strong> (<em>str</em>) – path to csv file with locations for calculating access</p></li>
<li><p><strong>destinations</strong> (<em>str</em>) – path to csv with destination locations for calculating access</p></li>
<li><p><strong>oLat</strong> (<em>str</em>) – Origin latitude field</p></li>
<li><p><strong>oLon</strong> (<em>str</em>) – Origin longitude field</p></li>
<li><p><strong>dLat</strong> (<em>str</em>) – Destination latitude field</p></li>
<li><p><strong>dLon</strong> (<em>str</em>) – Destination longitude field</p></li>
<li><p><strong>crs</strong> (<em>dict</em>) – crs of input origins and destinations, defaults to {‘init’:’epsg:4326’}</p></li>
<li><p><strong>fail-value</strong> (<em>int</em>) – value to put in OD matrix if no route found, defaults to -1</p></li>
<li><p><strong>weight</strong> (<em>str</em>) – variable in G used to define edge impedance, defaults to ‘time’</p></li>
<li><p><strong>calculate_snap</strong> (<em>bool</em>) – variable to add snapping distance to travel time, default is false</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d OD matrix with columns as index of origins and rows as index of
destinations</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.calculate_od_raw.calculateOD_gdf">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.calculate_od_raw.</span></span><span class="sig-name descname"><span class="pre">calculateOD_gdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destinations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculate_snap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wgs84</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'init':</span> <span class="pre">'epsg:4326'}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.calculate_od_raw.calculateOD_gdf" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate Origin destination matrix from GeoDataframes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>networkx graph</em>) – describes the road network. Often extracted using OSMNX</p></li>
<li><p><strong>origins</strong> (<em>geopandas dataframe</em>) – source locations for calculating access</p></li>
<li><p><strong>destinations</strong> (<em>geopandas dataframe</em>) – destination locations for calculating access</p></li>
<li><p><strong>calculate_snap</strong> (<em>boolean</em><em>, </em><em>optional</em>) – variable to add snapping distance to travel time, default is false</p></li>
<li><p><strong>wgs84</strong> (<em>CRS dictionary</em><em>, </em><em>optional</em>) – CRS of road network to which the GDFs are projected</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d OD matrix with columns as index of origins and rows as index of
destinations</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.calculate_od_raw.calculate_gravity">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.calculate_od_raw.</span></span><span class="sig-name descname"><span class="pre">calculate_gravity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">od</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oWeight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dWeight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decayVals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.01,</span> <span class="pre">0.005,</span> <span class="pre">0.001,</span> <span class="pre">0.0007701635,</span> <span class="pre">0.0003850818,</span> <span class="pre">0.0001925409,</span> <span class="pre">9.62704e-05,</span> <span class="pre">3.85082e-05,</span> <span class="pre">1e-05]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.calculate_od_raw.calculate_gravity" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate gravity model values for origin-destination (OD) matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>od</strong> (<em>numpy.ndarray</em>) – Origin-destination matrix.</p></li>
<li><p><strong>oWeight</strong> (<em>list</em><em>, </em><em>optional</em>) – List of weights for each origin. Defaults to an empty list.</p></li>
<li><p><strong>dWeight</strong> (<em>list</em><em>, </em><em>optional</em>) – List of weights for each destination. Defaults to an empty list.</p></li>
<li><p><strong>decayVals</strong> (<em>list</em><em>, </em><em>optional</em>) – List of decay values for market access. Defaults to a predefined list.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame containing gravity model values for each origin-destination
pair.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-GOSTnets.conversion_utils">
<span id="gostnets-conversion-utils-module"></span><h2>GOSTnets.conversion_utils module<a class="headerlink" href="#module-GOSTnets.conversion_utils" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.conversion_utils.rasterize_od_results">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.conversion_utils.</span></span><span class="sig-name descname"><span class="pre">rasterize_od_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inD</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outFile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">template</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.conversion_utils.rasterize_od_results" title="Permalink to this definition">#</a></dt>
<dd><p>Convert gridded point data frame to raster of commensurate size and resolution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inD</strong> (<em>geopandas data frame</em>) – OD matrix as point data frame</p></li>
<li><p><strong>outFile</strong> (<em>string</em>) – path to save output raster</p></li>
<li><p><strong>field</strong> (<em>string</em>) – field to rasterize</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-GOSTnets.core">
<span id="gostnets-core-module"></span><h2>GOSTnets.core module<a class="headerlink" href="#module-GOSTnets.core" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.add_intersection_delay">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">add_intersection_delay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intersection_delay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highway_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'highway'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['projected_footway',</span> <span class="pre">'motorway']</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.add_intersection_delay" title="Permalink to this definition">#</a></dt>
<dd><p>Find node intersections. For all intersection nodes, if directed edge is going into the intersection then add delay to the edge.
If the highest rank road at an intersection intersects a lower rank road, then the highest rank road does not get delayed. This assumes the highest rank road has the right-of-way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.MultiDiGraph</em>) – a base network object (nx.MultiDiGraph)</p></li>
<li><p><strong>intersection_delay</strong> (<em>int</em>) – The number of seconds to delay travel time at intersections</p></li>
<li><p><strong>filter</strong> (<em>list</em>) – The filter is a list of highway values where the type of highway does not get an intersection delay.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a base network object (nx.MultiDiGraph)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.add_missing_reflected_edges">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">add_missing_reflected_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">one_way_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.add_missing_reflected_edges" title="Permalink to this definition">#</a></dt>
<dd><p>function for adding any missing reflected edges - makes all edges bidirectional. This is essential for routing with simplified graphs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>one_way_tag</strong> (<em>str</em>) – if exists, then values that are True are one-way and will not be reflected</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Set to true to monitor progress of queries and notify if any queries failed, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a modified graph with the edited ‘time’ attribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.add_missing_reflected_edges_old">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">add_missing_reflected_edges_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">one_way_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.add_missing_reflected_edges_old" title="Permalink to this definition">#</a></dt>
<dd><p>to-do: delete this function, it is slower, creating a unique edge list slows things down with a big graph</p>
<p>function for adding any missing reflected edges - makes all edges bidirectional. This is essential for routing with simplified graphs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>one_way_tag</strong> (<em>str</em>) – if exists, then values that are True are one-way and will not be</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a modified graph with the edited ‘time’ attribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.advanced_snap">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">advanced_snap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pois</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'stnode'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'endnode'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_key_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'osmid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_key_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'osmid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poi_key_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">road_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'highway'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oneway_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'oneway'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">knn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measure_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:3857'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.advanced_snap" title="Permalink to this definition">#</a></dt>
<dd><p>Connect and integrate a set of POIs into an existing road network.</p>
<p>Given a road network in the form of two GeoDataFrames: nodes and edges,
link each POI to the nearest edge (road segment) based on its projection
point (PP) and generate a new integrated road network including the POIs,
the projected points, and the connection edge.</p>
<p>Credit for original code: Yuwen Chang, 2020-08-16</p>
<ol class="arabic simple">
<li><p>Make sure all three input GeoDataFrames have defined crs attribute. Try something like <cite>gdf.crs</cite> or <cite>gdf.crs = ‘epsg:4326’</cite>. They will then be converted into epsg:3857 or specified measure_crs for processing.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pois</strong> (<em>GeoDataFrame</em>) – a gdf of POI (geom: Point)</p></li>
<li><p><strong>nodes</strong> (<em>GeoDataFrame</em>) – a gdf of road network nodes (geom: Point)</p></li>
<li><p><strong>edges</strong> (<em>GeoDataFrame</em>) – a gdf of road network edges (geom: LineString)</p></li>
<li><p><strong>node_key_col</strong> (<em>str</em>) – The node tag id in the returned graph</p></li>
<li><p><strong>edge_key_col</strong> (<em>str</em>) – The edge tag id in the returned graph</p></li>
<li><p><strong>poi_key_col</strong> (<em>str</em>) – a unique key column of pois should be provided, e.g., ‘index’, ‘osmid’, ‘poi_number’, etc. Currently, this will be renamed into ‘osmid’ in the output. [NOTE] For use in pandana, you may want to ensure this column is numeric-only to avoid processing errors. Preferably use unique integers (int or str) only, and be aware not to intersect with the node key, ‘osmid’ if you use OSM data, in the nodes gdf.</p></li>
<li><p><strong>poi_key_col</strong> – The tag to be used for oneway edges</p></li>
<li><p><strong>path</strong> (<em>str</em>) – directory path to use for saving optional shapefiles (nodes and edges). Outputs will NOT be saved if this arg is not specified.</p></li>
<li><p><strong>threshold</strong> (<em>int</em>) – the max length of a POI connection edge, POIs withconnection edge beyond this length will be removed. The unit is in meters as crs epsg is set to 3857 by default during processing.</p></li>
<li><p><strong>knn</strong> (<em>int</em>) – k nearest neighbors to query for the nearest edge. Consider increasing this number up to 10 if the connection output is slightly unreasonable. But higher knn number will slow down the process.</p></li>
<li><p><strong>measure_crs</strong> (<em>int</em>) – preferred EPSG in meter units. Suggested to use the correct UTM projection.</p></li>
<li><p><strong>factor</strong> (<em>int</em>) – allows you to scale up / down unit of returned new_footway_edges if other than meters. Set to 1000 if length in km.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the original gdf with POIs and PPs appended and with connection edges appended and existing edges updated (if PPs are present)pois_meter (GeoDataFrame): gdf of the POIs along with extra columns, such as the associated nearest lines and PPs new_footway_edges (GeoDataFrame): gdf of the new footway edges that connect the POIs to the original graph</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.assign_traffic_times">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">assign_traffic_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mb_token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accepted_road_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['trunk',</span> <span class="pre">'trunk_link',</span> <span class="pre">'primary',</span> <span class="pre">'primary_link',</span> <span class="pre">'secondary',</span> <span class="pre">'secondary_link',</span> <span class="pre">'tertiary',</span> <span class="pre">'tertiary_link',</span> <span class="pre">'motorway',</span> <span class="pre">'motorway_link']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">road_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'infra_type'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'id'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.assign_traffic_times" title="Permalink to this definition">#</a></dt>
<dd><p>Function for querying travel times from the Mapbox “driving traffic” API. Queries are only made for the specified road types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object of the road network</p></li>
<li><p><strong>mb_token</strong> (<em>str</em>) – Mapbox token (retrieve from Mapbox account, starts with “pk:”)</p></li>
<li><p><strong>road_types</strong> (<em>list</em>) – a list of OSM road types for which to query traffic-aware travel time, defaults to main roads</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Set to true to monitor progress of queries and notify if any queries failed, defaults to False</p></li>
<li><p><strong>road_col</strong> (<em>str</em>) – key for the road type in the edge data dictionary, defaults to ‘infra_type’</p></li>
<li><p><strong>id_col</strong> (<em>str</em>) – key for the id in the edge data dictionary, defaults to ‘id’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The original graph with two new data properties for the edges: ‘mapbox_api’ (a boolean set to True if the edge successfully received a traffic time value) and ‘time_traffic’ (travel time in seconds)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.calculate_OD">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">calculate_OD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destinations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weighted_origins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">one_way_roads_exist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.calculate_OD" title="Permalink to this definition">#</a></dt>
<dd><p>Function for generating an origin: destination matrix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph containing one or more nodes</p></li>
<li><p><strong>fail_value</strong> (<em>int</em>) – the value to return if the trip cannot be completed (implies some sort of disruption / disconnected nodes)</p></li>
<li><p><strong>origins</strong> (<em>list</em>) – a list of the node IDs to treat as origins points</p></li>
<li><p><strong>destinations</strong> (<em>list</em>) – a list of the node IDs to treat as destinations</p></li>
<li><p><strong>weight</strong> (<em>str</em>) – use edge weight of ‘time’ unless otherwise specified</p></li>
<li><p><strong>weighted_origins</strong> (<em>bool</em>) – equals ‘true’ if the origins have weights. If so, the input to ‘origins’ must be dictionary instead of a list, where the keys are the origin IDs and the values are the weighted demands.</p></li>
<li><p><strong>one_way_roads_exist</strong> (<em>bool</em>) – If the value is ‘True’, then even if there are more origins than destinations, it will not do a flip during processing.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Set to true to monitor progress of queries and notify if any queries failed, defaults to False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a numpy matrix of format OD[o][d] = shortest time possible</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.clip">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">clip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bound</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geom_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geometry'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">largest_G</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.clip" title="Permalink to this definition">#</a></dt>
<dd><p>Removes any edges that fall beyond a polygon, and shortens any other edges that do so</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.MultiDiGraph</em>) – a graph object.</p></li>
<li><p><strong>bound</strong> (<em>shapely Polygon</em><em> or </em><em>MultiPolygon</em>) – a shapely polygon object</p></li>
<li><p><strong>source_crs</strong> (<em>str</em>) – crs object in format ‘epsg:4326’</p></li>
<li><p><strong>target_crs</strong> (<em>str</em>) – crs object in format ‘epsg:4326’</p></li>
<li><p><strong>geom_col</strong> (<em>str</em>) – label name for geometry object</p></li>
<li><p><strong>largest_G</strong> (<em>bool</em>) – if True, takes largest remaining subgraph of G as G</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a new graph object that is the clipped version of the input graph</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.combo_csv_to_graph">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">combo_csv_to_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'u'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'v'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Wkt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">largest_G</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.combo_csv_to_graph" title="Permalink to this definition">#</a></dt>
<dd><p>Function for generating a G object from a saved combo .csv</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – path to a .csv containing edges (WARNING: COMBO CSV only)</p></li>
<li><p><strong>u_tag</strong> (<em>str</em>) – specify column containing u node ID if not labelled ‘u’</p></li>
<li><p><strong>v_tag</strong> (<em>str</em>) – specify column containing u node ID if not labelled ‘v’</p></li>
<li><p><strong>geometry_tag</strong> (<em>str</em>) – specify column containing u node ID if not</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>nx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.convert_network_to_time">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">convert_network_to_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'drive'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">road_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'highway'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_time_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">walk_speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.convert_network_to_time" title="Permalink to this definition">#</a></dt>
<dd><p>Function for adding a time value to graph edges. Ensure any graphs are in the same projection before using function, or pass a crs.</p>
<p>DEFAULT SPEEDS:</p>
<blockquote>
<div><p>speed_dict = {
‘residential’: 20,  # kmph
‘primary’: 40, # kmph
‘primary_link’:35,
‘motorway’:50,
‘motorway_link’: 45,
‘trunk’: 40,
‘trunk_link’:35,
‘secondary’: 30,
‘secondary_link’:25,
‘tertiary’:30,
‘tertiary_link’: 25,
‘unclassified’:20,
‘projected_footway’:3.5
}</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> – a graph containing one or more nodes</p></li>
<li><p><strong>distance_tag</strong> – the key in the dictionary for the field currently
containing a distance in meters</p></li>
<li><p><strong>road_col</strong> – key for the road type in the edge data dictionary</p></li>
<li><p><strong>road_col</strong> – key for the time value in the output graph</p></li>
<li><p><strong>graph_type</strong> – set to either ‘drive’ or ‘walk’. IF walk - will set time = walking time across all segments, using the supplied walk_speed. IF drive - will use a speed dictionary for each road type, or defaults as per the note below.</p></li>
<li><p><strong>speed_dict</strong> – speed dictionary to use. If not supplied, reverts to
defaults</p></li>
<li><p><strong>walk_speed</strong> – specify a walkspeed in km/h</p></li>
<li><p><strong>factor</strong> – allows you to scale up / down distances if saved in a unit other than meters. Set to 1000 if length in km.</p></li>
<li><p><strong>default</strong> – if highway type not in the speed_dict, use this speed as the default. If default is None, then the conversion will be skipped</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The original graph with a new data property for the edges called ‘time’</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.convert_to_MultiDiGraph">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">convert_to_MultiDiGraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.convert_to_MultiDiGraph" title="Permalink to this definition">#</a></dt>
<dd><p>takes any graph object, loads it into a MultiDiGraph type Networkx object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a MultiDiGraph object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.custom_simplify">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">custom_simplify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.custom_simplify" title="Permalink to this definition">#</a></dt>
<dd><p>Simplify a graph’s topology by removing all nodes that are not intersections or dead-ends. Create an edge directly between the end points that encapsulate them, but retain the geometry of the original edges, saved as attribute in new edge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>networkx multidigraph</em>) – networkx multidigraph</p></li>
<li><p><strong>strict</strong> (<em>bool</em>) – if False, allow nodes to be end points even if they fail all other rules but have edges with different OSM IDs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>simplified networkx multidigraph</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>networkx multidigraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.disrupt_network">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">disrupt_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.disrupt_network" title="Permalink to this definition">#</a></dt>
<dd><p>Function for disrupting a graph given a threshold value against a node’s value. Any edges which bind to broken nodes have their ‘time’ property set to fail_value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – REQUIRED a graph containing one or more nodes and one or more edges</p></li>
<li><p><strong>property</strong> (<em>str</em>) – the element in the data dictionary for the edges to test</p></li>
<li><p><strong>thresh</strong> (<em>int</em>) – values of data[property] above this value are disrupted</p></li>
<li><p><strong>fail_value</strong> (<em>int</em>) – The data[‘time’] property is set to this value to simulate the removal of the edge</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a modified graph with the edited ‘time’ attribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.edge_gdf_from_graph">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">edge_gdf_from_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'EPSG:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geometry'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xCol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yCol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'y'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oneway_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'oneway'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">single_edge</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.edge_gdf_from_graph" title="Permalink to this definition">#</a></dt>
<dd><p>Function for generating a GeoDataFrame from a networkx Graph object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – (required) a graph object G</p></li>
<li><p><strong>crs</strong> (<em>str</em>) – (optional) projection of format {‘init’ :’epsg:4326’}. Defaults to WGS84. Note: here we are defining the crs of the input geometry -we do NOT reproject to this crs. To reproject, consider using geopandas’ to_crs method on the returned gdf.</p></li>
<li><p><strong>attr_list</strong> (<em>list</em>) – (optional) list of the keys which you want to be moved over to the GeoDataFrame.</p></li>
<li><p><strong>geometry_tag</strong> (<em>str</em>) – (optional) the key in the data dictionary for each edge which contains the geometry info.</p></li>
<li><p><strong>xCol</strong> (<em>str</em>) – (optional) if no geometry is present in the edge data dictionary, the function will try to construct a straight line between the start and end nodes, if geometry information is present in their data dictionaries.  Pass the Longitude info as ‘xCol’.</p></li>
<li><p><strong>yCol</strong> (<em>str</em>) – (optional) likewise, determining the Latitude tag for the node’s data dictionary allows us to make a straight line geometry where an actual geometry is missing.</p></li>
<li><p><strong>single_edge</strong> (<em>bool</em>) – If True then one edge/row in the returned GeoDataFrame will represent a bi-directional edge. An extra ‘oneway’ column will be added</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a GeoDataFrame object of the edges in the graph</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.edges_and_nodes_csv_to_graph">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">edges_and_nodes_csv_to_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath_nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath_edges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'stnode'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'endnode'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Wkt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">largest_G</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.edges_and_nodes_csv_to_graph" title="Permalink to this definition">#</a></dt>
<dd><p>Function for generating a G object from a saved .csv of edges</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath_nodes</strong> (<em>str</em>) – path to a .csv containing nodes</p></li>
<li><p><strong>fpath_edges</strong> (<em>str</em>) – path to a .csv containing edges</p></li>
<li><p><strong>u_tag</strong> (<em>str</em>) – optional. specify column containing u node ID if not labelled ‘stnode’</p></li>
<li><p><strong>v_tag</strong> (<em>str</em>) – specify column containing v node ID if not labelled ‘endnode’</p></li>
<li><p><strong>geometry_tag</strong> (<em>str</em>) – specify column containing geometry if not labelled ‘Wkt’</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>nx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.edges_and_nodes_gdf_to_graph">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">edges_and_nodes_gdf_to_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nodes_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges_df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'node_ID'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'stnode'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'endnode'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Wkt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">largest_G</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discard_node_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_missing_reflected_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oneway_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.edges_and_nodes_gdf_to_graph" title="Permalink to this definition">#</a></dt>
<dd><p>Function for generating a G object from a saved .csv of edges</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath_nodes</strong> (<em>str</em>) – path to a .csv containing nodes</p></li>
<li><p><strong>fpath_edges</strong> (<em>str</em>) – path to a .csv containing edges</p></li>
<li><p><strong>u_tag</strong> (<em>str</em>) – optional. specify column containing the node ID. This is used to only include entries that have a value.</p></li>
<li><p><strong>u_tag</strong> – optional. specify column containing u node ID if not labelled ‘stnode’</p></li>
<li><p><strong>v_tag</strong> (<em>str</em>) – specify column containing v node ID if not labelled ‘endnode’</p></li>
<li><p><strong>geometry_tag</strong> (<em>str</em>) – specify column containing geometry if not labelled ‘Wkt’</p></li>
<li><p><strong>largest_G</strong> (<em>bool</em>) – If largest_G is true, then only the largest graph will be returned</p></li>
<li><p><strong>discard_node_col</strong> (<em>list</em>) – default is empty, all columns in the nodes_df will be copied to the nodes in the graph. If a list is filled, all the columns specified will be dropped.</p></li>
<li><p><strong>checks</strong> (<em>bool</em>) – if True, will perform a validation checks and return the nodes_df with a ‘node_in_edge_df’ column</p></li>
<li><p><strong>add_missing_reflected_edges</strong> (<em>bool</em>) – if contains a tag, then the oneway column is used to see whether reverse edges need to be added. This is much faster than using the add_missing_reflected_edges after a graph is already created.</p></li>
<li><p><strong>oneway_tag</strong> (<em>str</em>) – if oneway_tag exists, then missing reflected edges won’t be added where an edge’s oneway_tag equals True</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>nx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.euclidean_distance">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">euclidean_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.euclidean_distance" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the great circle distance between two points on the earth (specified in decimal degrees)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat1</strong> (<em>float</em>) – lat1</p></li>
<li><p><strong>lon1</strong> (<em>float</em>) – lon1</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – lat2</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – lon2</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns the distance between two points in km</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.example_edge">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">example_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.example_edge" title="Permalink to this definition">#</a></dt>
<dd><p>Prints out an example edge</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>n</strong> (<em>int</em>) – n - number of edges to print</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Prints out the edge data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.example_node">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">example_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.example_node" title="Permalink to this definition">#</a></dt>
<dd><p>Prints out an example node</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>n</strong> (<em>int</em>) – number of nodes to print</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Prints out the node data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.find_graph_avg_speed">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">find_graph_avg_speed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_tag</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.find_graph_avg_speed" title="Permalink to this definition">#</a></dt>
<dd><p>Function for finding the average speed per km for the graph. It will sum up the total meters in the graph and the total time (in sec).     Then it will convert m/sec to km/hr. This function needs the ‘convert_network_to_time’ function to have run previously.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph containing one or more nodes</p></li>
<li><p><strong>distance_tag</strong> (<em>str</em>) – the key in the dictionary for the field currently containing a distance in meters</p></li>
<li><p><strong>time_tag</strong> (<em>str</em>) – time to traverse the edge in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The average speed for the whole graph in km per hr</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.find_hwy_distances_by_class">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">find_hwy_distances_by_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'length'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.find_hwy_distances_by_class" title="Permalink to this definition">#</a></dt>
<dd><p>Function for finding out the different highway classes in the graph and their respective lengths</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>distance_tag</strong> (<em>str</em>) – specifies which edge attribute represents length</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dictionary that has each class and the total distance per class</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.generate_isochrones">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">generate_isochrones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.generate_isochrones" title="Permalink to this definition">#</a></dt>
<dd><p>Function for generating isochrones from one or more graph nodes. Ensure any GeoDataFrames / graphs are in the same projection before using function, or pass a crs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph containing one or more nodes</p></li>
<li><p><strong>origins</strong> (<em>list</em>) – a list of node IDs that the isochrones are to be generated from</p></li>
<li><p><strong>thresh</strong> (<em>str</em>) – The time threshold for the calculation of the isochrone</p></li>
<li><p><strong>weight</strong> (<em>str</em>) – Name of edge weighting for calculating ‘distances’. For isochrones, should be time expressed in seconds. Defaults to time expressed in seconds.</p></li>
<li><p><strong>stacking</strong> (<em>bool</em>) – If True, returns number of origins that can be reached from that node. If false, max = 1</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The original graph with a new data property for the nodes and edges included in the isochrone</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.gn_project_graph">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">gn_project_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.gn_project_graph" title="Permalink to this definition">#</a></dt>
<dd><p>Taken from OSMNX. Project graph from its current CRS to another.
If to_crs is None, project the graph to the UTM CRS for the UTM zone in
which the graph’s centroid lies. Otherwise, project the graph to the CRS
defined by to_crs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>networkx.MultiDiGraph</em>) – networkx.MultiDiGraph the graph to be projected</p></li>
<li><p><strong>to_crs</strong> (<em>str</em>) – string or pyproj.CRS if None, project graph to UTM zone in which graph centroid lies, otherwise project graph to this CRS</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the projected graph</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>networkx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.graph_edges_intersecting_polygon">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">graph_edges_intersecting_polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polygons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fast</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.graph_edges_intersecting_polygon" title="Permalink to this definition">#</a></dt>
<dd><p>Function for identifying edges of a graph that intersect polygon(s). Ensure any GeoDataFrames are in the same projection before using function, or pass a crs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a Graph object</p></li>
<li><p><strong>polygons</strong> (<em>gpd.GeoDataFrame</em>) – a GeoDataFrame containing one or more polygons</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – a string, either ‘contains’ or ‘intersecting’</p></li>
<li><p><strong>crs</strong> (<em>dict</em>) – If passed, will reproject both polygons and graph edge gdf to this projection.</p></li>
<li><p><strong>fast</strong> (<em>bool</em>) – (default: True): we can cheaply test whether an edge intersects a polygon gdf by checking whether either the start or end nodes are within a polygon. If both are, then we return ‘contained’; if at least one is, we can return ‘intersects’. If we set fast to False, then we iterate through each geometry one at a time, and check to see whether the geometry object literally intersects the polygon geodataframe, one at a time. May be computationally intensive!</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of the edges intersecting the polygons</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.graph_nodes_intersecting_polygon">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">graph_nodes_intersecting_polygon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polygons</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.graph_nodes_intersecting_polygon" title="Permalink to this definition">#</a></dt>
<dd><p>Function for generating GeoDataFrame from Graph. Note: ensure any GeoDataFrames are in the same projection before using function, or pass a crs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em><em> or </em><em>gpd.GeoDataFrame</em>) – a Graph object OR node geodataframe</p></li>
<li><p><strong>crs</strong> (<em>dict</em>) – a crs object of form {‘init’:’epsg:XXXX’}. If passed, matches both inputs to this crs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of the nodes intersecting the polygons</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.gravity_demand">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">gravity_demand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destinations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxtrips</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist_decay</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">99999999999</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.gravity_demand" title="Permalink to this definition">#</a></dt>
<dd><p>Function for generating a gravity-model based demand matrix. Note: 1 trip will always be returned between an origin and a destination, even if weighting would otherwise be 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origins</strong> (<em>list</em>) – a list of node IDs. Must be in G.</p></li>
<li><p><strong>destinations</strong> (<em>list</em>) – a list of node IDs Must be in G.</p></li>
<li><p><strong>weight</strong> (<em>str</em>) – the gravity weighting of the nodes in the model, e.g. population</p></li>
<li><p><strong>fail_value</strong> (<em>int</em>) – the data[‘time’] property is set to this value to simulate the removal of the edge</p></li>
<li><p><strong>maxtrips</strong> (<em>int</em>) – normalize the number of trips in the resultant function to this number of trip_times</p></li>
<li><p><strong>dist_decay</strong> (<em>int</em>) – parameter controlling the aggresion of discounting based on distance</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a numpy array describing the demand between o and d in terms of number of trips</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.join_networks">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">join_networks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_net</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_net</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measure_crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.join_networks" title="Permalink to this definition">#</a></dt>
<dd><p>joins two networks together within a binding threshold</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_net</strong> (<em>nx.MultiDiGraph</em>) – a base network object (nx.MultiDiGraph)</p></li>
<li><p><strong>new_net</strong> (<em>nx.MultiDiGraph</em>) – the network to add on to the base (nx.MultiDiGraph)</p></li>
<li><p><strong>measure_crs</strong> (<em>int</em>) – the crs number of the measurement (epsg code)</p></li>
<li><p><strong>thresh</strong> (<em>int</em>) – binding threshold - unit of the crs - default 500m</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a new network object that is the combination of the two input networks</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.make_iso_polys">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">make_iso_polys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_buff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_buff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measure_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_filters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.make_iso_polys" title="Permalink to this definition">#</a></dt>
<dd><p>Function for adding a time value to edge dictionaries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>origins</strong> (<em>list</em>) – a list object of node IDs from which to generate an isochrone poly object</p></li>
<li><p><strong>trip_times</strong> (<em>list</em>) – a list object containing the isochrone values</p></li>
<li><p><strong>edge_buff</strong> (<em>int</em>) – the thickness with witch to buffer included edges</p></li>
<li><p><strong>node_buff</strong> (<em>int</em>) – the thickness with witch to buffer included nodes</p></li>
<li><p><strong>infill</strong> (<em>bool</em>) – If True, will remove any holes in isochrones</p></li>
<li><p><strong>weight</strong> (<em>str</em>) – The edge weight to use when appraising travel times.</p></li>
<li><p><strong>measure_crs</strong> (<em>str</em>) – measurement crs, object of form {‘init’:’epsg:XXXX’}</p></li>
<li><p><strong>edge_filters</strong> (<em>dict</em>) – you can optionally add a dictionary with key values, where the key is the attribute and the value you want to ignore from creating isochrones. An example might be an underground subway line.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a GeoDataFrame object of the isochrone polygons</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.make_iso_polys_original">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">make_iso_polys_original</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origins</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trip_times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_buff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_buff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measure_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.make_iso_polys_original" title="Permalink to this definition">#</a></dt>
<dd><p>Function for adding a time value to edge dictionaries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>origins</strong> (<em>list</em>) – a list object of node IDs from which to generate an isochrone poly object</p></li>
<li><p><strong>trip_times</strong> (<em>list</em>) – a list object containing the isochrone values</p></li>
<li><p><strong>edge_buff</strong> (<em>int</em>) – the thickness with witch to buffer included edges</p></li>
<li><p><strong>node_buff</strong> (<em>int</em>) – the thickness with witch to buffer included nodes</p></li>
<li><p><strong>infill</strong> (<em>bool</em>) – If True, will remove any holes in isochrones</p></li>
<li><p><strong>weight</strong> (<em>str</em>) – The edge weight to use when appraising travel times.</p></li>
<li><p><strong>measure_crs</strong> (<em>str</em>) – measurement crs, object of form {‘init’:’epsg:XXXX’}</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>GeoDataFrame object of the isochrone polygons</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.new_edge_generator">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">new_edge_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">passed_geom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infra_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iterator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existing_legitimate_point_geometries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geom_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project_WGS_UTM</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.new_edge_generator" title="Permalink to this definition">#</a></dt>
<dd><p>Generates new edge and node geometries based on a passed geometry. WARNING: This is a child process of clip(), and shouldn’t be run on its own</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>passed_geom</strong> (<em>shapely LineString</em>) – a shapely Linestring object</p></li>
<li><p><strong>infra_type</strong> (<em>str</em>) – the road / highway class of the passed geometry</p></li>
<li><p><strong>iterator</strong> (<em>int</em>) – helps count the new node IDs to keep unique nodes</p></li>
<li><p><strong>existing_legitimate_point_geometries</strong> (<em>dict</em>) – a dictionary of points already created / valid in [u:geom] format</p></li>
<li><p><strong>project_WGS_UTM</strong> (<em>object</em>) – projection object to transform passed geometries</p></li>
<li><p><strong>geom_col</strong> (<em>str</em>) – label name for geometry object</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a list of new nodes and edges to be added to the graph</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.node_gdf_from_graph">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">node_gdf_from_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'geometry'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xCol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'x'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yCol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'y'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.node_gdf_from_graph" title="Permalink to this definition">#</a></dt>
<dd><p>Function for generating GeoDataFrame from Graph</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object G</p></li>
<li><p><strong>crs</strong> (<em>str</em>) – projection of format {‘init’ :’epsg:4326’}. Defaults to WGS84. note: here we are defining the crs of the input geometry - we do NOT reproject to this crs. To reproject, consider using geopandas’ to_crs method on the returned gdf.</p></li>
<li><p><strong>attr_list</strong> (<em>list</em>) – list of the keys which you want to be moved over to the GeoDataFrame, if not all. Defaults to None, which will move all.</p></li>
<li><p><strong>geometry_tag</strong> (<em>str</em>) – specify geometry attribute of graph, default ‘geometry’</p></li>
<li><p><strong>xCol</strong> (<em>str</em>) – if no shapely geometry but Longitude present, assign here</p></li>
<li><p><strong>yCol</strong> (<em>str</em>) – if no shapely geometry but Latitude present, assign here</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a geodataframe of the node objects in the graph</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.pandana_snap">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">pandana_snap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_gdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_dist_to_node_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_it</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.pandana_snap" title="Permalink to this definition">#</a></dt>
<dd><p>snaps points to a graph at very high speed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object, or the node geodataframe of a graph</p></li>
<li><p><strong>point_gdf</strong> (<em>gpd.GeoDataFrame</em>) – a geodataframe of points, in the same source crs as the geometry of the graph object</p></li>
<li><p><strong>source_crs</strong> (<em>str</em>) – The crs for the input G and input point_gdf in format ‘epsg:32638’</p></li>
<li><p><strong>target_crs</strong> (<em>str</em>) – The measure crs how distances between points are calculated. The returned point GeoDataFrame’s CRS does not get modified. The crs object in format ‘epsg:32638’</p></li>
<li><p><strong>add_dist_to_node_col</strong> (<em>bool</em>) – return distance to nearest node in the units of the target_crs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a GeoDataFrame that is the same as the input point_gdf but adds a column containing the id of the nearest node in the graph, and the distance if add_dist_to_node_col is True</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.pandana_snap_c">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">pandana_snap_c</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_gdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_dist_to_node_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_it</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.pandana_snap_c" title="Permalink to this definition">#</a></dt>
<dd><p>snaps points to a graph at a faster speed than pandana_snap.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object, or the node geodataframe of a graph</p></li>
<li><p><strong>point_gdf</strong> (<em>gpd.GeoDataFrame</em>) – a geodataframe of points, in the same source crs as the geometry of the graph object</p></li>
<li><p><strong>source_crs</strong> (<em>str</em>) – The crs for the input G and input point_gdf in format ‘epsg:32638’</p></li>
<li><p><strong>target_crs</strong> (<em>str</em>) – The measure crs how distances between points are calculated. The returned point GeoDataFrame’s CRS does not get modified. The crs object in format ‘epsg:32638’</p></li>
<li><p><strong>add_dist_to_node_col</strong> (<em>bool</em>) – return distance to nearest node in the units of the target_crs</p></li>
<li><p><strong>time_it</strong> (<em>bool</em>) – return time to complete function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a GeoDataFrame that is the same as the input point_gdf but adds a column containing the id of the nearest node in the graph, and the distance if add_dist_to_node_col is True</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.pandana_snap_points">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">pandana_snap_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_gdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_gdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_dist_to_node_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.pandana_snap_points" title="Permalink to this definition">#</a></dt>
<dd><p>snaps points to another GeoDataFrame at very high speed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_gdf</strong> (<em>gpd.GeoDataFrame</em>) – a geodataframe of points</p></li>
<li><p><strong>target_gdf</strong> (<em>gpd.GeoDataFrame</em>) – a geodataframe of points, in the same source crs as the geometry of the source_gdfsg:32638’</p></li>
<li><p><strong>target_crs</strong> (<em>str</em>) – crs object in format ‘epsg:32638’</p></li>
<li><p><strong>add_dist_to_node_col</strong> (<em>bool</em>) – return distance in metres to nearest node</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>return: returns a GeoDataFrame that is the same as the input source_gdf but adds a column containing the id of the nearest node in the target_gdf, and the distance if add_dist_to_node_col is True</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.pandana_snap_single_point">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">pandana_snap_single_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shapely_point</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.pandana_snap_single_point" title="Permalink to this definition">#</a></dt>
<dd><p>snaps a point to a graph at very high speed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>shapely_point</strong> (<em>shapely Point</em>) – a shapely point (ex. Point(x, y)), in the same source crs as the geometry of the graph object</p></li>
<li><p><strong>source_crs</strong> (<em>str</em>) – crs object in format ‘epsg:32638’</p></li>
<li><p><strong>target_crs</strong> (<em>str</em>) – crs object in format ‘epsg:32638’</p></li>
<li><p><strong>add_dist_to_node_col</strong> (<em>bool</em>) – return distance in metres to nearest node</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns the id of the nearest node in the graph</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.pandana_snap_to_many">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">pandana_snap_to_many</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">point_gdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_dist_to_node_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_it</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k_nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'index'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.pandana_snap_to_many" title="Permalink to this definition">#</a></dt>
<dd><p>snaps points their k nearest neighbors in the graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>point_gdf</strong> (<em>gpd.GeoDataFrame</em>) – a geodataframe of points, in the same source crs as the geometry of the graph object</p></li>
<li><p><strong>source_crs</strong> (<em>str</em>) – The crs for the input G and input point_gdf in format ‘epsg:32638’</p></li>
<li><p><strong>target_crs</strong> (<em>str</em>) – The desired crs returned point GeoDataFrame. The crs object in format ‘epsg:32638’</p></li>
<li><p><strong>add_dist_to_node_col</strong> (<em>bool</em>) – return distance to nearest node in the units of the target_crs</p></li>
<li><p><strong>time_it</strong> (<em>bool</em>) – return time to complete function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a dictionary of the k nearest nodes to each origin point</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.project_gdf">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">project_gdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_latlong</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.project_gdf" title="Permalink to this definition">#</a></dt>
<dd><p>Taken from OSMNX</p>
<p>Project a GeoDataFrame from its current CRS to another. If to_crs is None, project to the UTM CRS for the UTM zone in which the
GeoDataFrame’s centroid lies. Otherwise project to the CRS defined by
to_crs. The simple UTM zone calculation in this function works well for
most latitudes, but may not work for some extreme northern locations like
Svalbard or far northern Norway.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gdf</strong> (<em>geopandas.GeoDataFrame</em>) – geopandas.GeoDataFrame the GeoDataFrame to be projected</p></li>
<li><p><strong>to_crs</strong> (<em>str</em>) – string or pyproj.CRS if None, project to UTM zone in which gdf’s centroid lies, otherwise project to this CRS</p></li>
<li><p><strong>to_latlong</strong> (<em>bool</em>) – bool if True, project to settings.default_crs and ignore to_crs</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the projected GeoDataFrame</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>geopandas.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.randomly_disrupt_network">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">randomly_disrupt_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_frac</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fail_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.randomly_disrupt_network" title="Permalink to this definition">#</a></dt>
<dd><p>Function for randomly disurpting a network. NOTE: requires the graph to have an ‘edge_id’ value in the edge data dictionary. This DOES NOT have to be unique.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph containing one or more nodes and one or more edges</p></li>
<li><p><strong>edge_frac</strong> (<em>int</em>) – the percentage of edges to destroy. Integer rather than decimal, e.g. 5 = 5% of edges</p></li>
<li><p><strong>fail_value</strong> (<em>int</em>) – the data[‘time’] property is set to this value to simulate the removal of the edge</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a modified graph with the edited ‘time’ attribute the list of edge IDs randomly chosen for destruction</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.remove_duplicate_edges">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">remove_duplicate_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.remove_duplicate_edges" title="Permalink to this definition">#</a></dt>
<dd><p>function for deleting duplicated edges - where there is more than one edge connecting a node pair. USE WITH CAUTION - will change both topological relationships and node maps</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>max_ratio</strong> (<em>float</em>) – most of the time we see duplicate edges that are clones of each other. Sometimes, however, there are valid duplicates. These occur if multiple roads connect two junctions uniquely and without interruption - e.g. two roads running either side of a lake which meet at either end. The idea here is that valid ‘duplicate edges’ will have geometries of materially different length. Hence, we include a ratio - defaulting to 1.5 - beyond which we are sure the duplicates are valid edges, and will not be deleted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a modified graph with the edited ‘time’ attribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.reproject_graph">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">reproject_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_net</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_crs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.reproject_graph" title="Permalink to this definition">#</a></dt>
<dd><p>to-do: delete, is not working</p>
<p>Converts the node coordinates of a graph. Assumes that there are straight lines between the start and end nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_net</strong> (<em>nx.MultiDiGraph</em>) – a base network object (nx.MultiDiGraph)</p></li>
<li><p><strong>source_crs</strong> (<em>str</em>) – The projection of the input_net (epsg code)</p></li>
<li><p><strong>target_crs</strong> (<em>str</em>) – The projection input_net will be converted to (epsg code)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>returns a new network object that is the combination of the two input networks</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.salt_long_lines">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">salt_long_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geometry_tag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Wkt'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.salt_long_lines" title="Permalink to this definition">#</a></dt>
<dd><p>Adds in new nodes to edges greater than a given length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>source</strong> (<em>str</em>) – crs object in format ‘epsg:4326’</p></li>
<li><p><strong>target</strong> (<em>str</em>) – crs object in format ‘epsg:32638’</p></li>
<li><p><strong>thresh</strong> (<em>int</em>) – distance in metres after which to break edges.</p></li>
<li><p><strong>factor</strong> (<em>int</em>) – edge lengths can be returned in units other than metres by specifying a numerical multiplication factor. Factor behavior divides rather than multiplies.</p></li>
<li><p><strong>attr_dict</strong> (<em>dict</em>) – list of attributes to be saved onto new edges.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a modified graph with the edited ‘time’ attribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.sample_raster">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">sample_raster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tif_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'RasterValue'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.sample_raster" title="Permalink to this definition">#</a></dt>
<dd><p>Function for attaching raster values to corresponding graph nodes. Ensure any GeoDataFrames / graphs are in the same projection before using function, or pass a crs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph containing one or more nodes</p></li>
<li><p><strong>tif_path</strong> (<em>str</em>) – a raster or path to a tif</p></li>
<li><p><strong>property_name</strong> (<em>str</em>) – a property name for the value of the raster attached to the node</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The original graph with a new data property for the nodes included in the raster</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.save">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pickle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.save" title="Permalink to this definition">#</a></dt>
<dd><p>function used to save a graph object in a variety of handy formats</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>savename</strong> (<em>str</em>) – the filename, WITHOUT extension</p></li>
<li><p><strong>wpath</strong> (<em>str</em>) – the write path for where the user wants the files saved</p></li>
<li><p><strong>pickle</strong> (<em>bool</em>) – if set to false, will not save a pickle of the graph</p></li>
<li><p><strong>edges</strong> (<em>bool</em>) – if set to false, will not save an edge gdf</p></li>
<li><p><strong>nodes</strong> (<em>bool</em>) – if set to false, will not save a node gdf</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>saves files to the write path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.simplify_junctions">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">simplify_junctions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">measure_crs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'init':</span> <span class="pre">'epsg:4326'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.simplify_junctions" title="Permalink to this definition">#</a></dt>
<dd><p>simplifies topology of networks by simplifying node clusters into single nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>nx.Graph</em>) – a graph object</p></li>
<li><p><strong>measure_crs</strong> (<em>str</em>) – the crs to make the measurements inself.</p></li>
<li><p><strong>in_crs</strong> (<em>str</em>) – the current crs of the graph’s geometry properties. By default, assumes WGS 84 (epsg 4326)</p></li>
<li><p><strong>thresh</strong> (<em>int</em>) – the threshold distance in which to simplify junctions. By default, assumes 25 meters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a modified graph with simplified junctions</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.unbundle_geometry">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">unbundle_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.unbundle_geometry" title="Permalink to this definition">#</a></dt>
<dd><p>Function for unbundling complex geometric objects. Note: shapely MultiLineString objects quickly get complicated. They may not show up when you plot them in QGIS. This function aims to make a .csv ‘plottable’</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>c</strong> (<em>object</em>) – any object. This helper function is usually applied in lambda format against a pandas / geopandas dataframe. The idea is to try to return more simple versions of complex geometries for LineString and MultiLineString type objects.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>an unbundled geometry value that can be plotted.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>geometry</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.core.utm_of_graph">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.core.</span></span><span class="sig-name descname"><span class="pre">utm_of_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.core.utm_of_graph" title="Permalink to this definition">#</a></dt>
<dd><p>Calculates the UTM coordinate reference system (CRS) for a given graph.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>G</strong> (<em>networkx.Graph</em>) – The input graph.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The UTM CRS string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-GOSTnets.fetch_od">
<span id="gostnets-fetch-od-module"></span><h2>GOSTnets.fetch_od module<a class="headerlink" href="#module-GOSTnets.fetch_od" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.fetch_od.CreateODMatrix">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.fetch_od.</span></span><span class="sig-name descname"><span class="pre">CreateODMatrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">infile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infile_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Lon'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">UID</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ID'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Pop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">call_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OSRM'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescue_num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">MB_Token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sleepTime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osrmHeader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.fetch_od.CreateODMatrix" title="Permalink to this definition">#</a></dt>
<dd><p>Create an Origin-Destination matrix from a list of origins and destinations.</p>
<p>make sure lat_name and Lon_names are the same column names in both your infile (origins) and infile_2 (destinations)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>infile</strong> (<em>string</em><em> or </em><em>geodataframe</em>) – string for folder path containing input data of the origins. This can also be a geodataframe of the data instead.</p></li>
<li><p><strong>infile_2</strong> (<em>string</em><em> or </em><em>geodataframe</em>) – string for folder path containing input data of the destinations. This can also be a geodataframe of the data instead.</p></li>
<li><p><strong>lat_name</strong> (<em>string</em>) – Latitude column name.</p></li>
<li><p><strong>lon_name</strong> (<em>string</em>) – Longitude column name</p></li>
<li><p><strong>UID</strong> (<em>string</em>) – Origin Unique Identifier column name (e.g. District, Name, Object ID…). This is mainly helpful for joining the output back to the input data / a shapefile, and is non-essential in terms of the calculation. It can be text or a number.</p></li>
<li><p><strong>Pop</strong> (<em>string</em>) – Population / weighting column name</p></li>
<li><p><strong>call_type</strong> (<em>string</em>) – Server call type - “OSRM” for OSRM, “MB” for Mapbox, “MBT” for Mapbox traffic, or “Euclid” for Euclidean distances (as the crow flies)</p></li>
<li><p><strong>rescue</strong> (<em>int</em>) – Save - input latest save number to pick up matrix construction process from there.</p></li>
<li><p><strong>rescue_num</strong> (<em>int</em>) – Rescue number parameter - If you have already re-started the download process, denote how many times. First run = 0, restarted once = 1…</p></li>
<li><p><strong>MB_Token</strong> (<em>string</em>) – Mapbox private key if using the “MB” or “MBT” call types</p></li>
<li><p><strong>sleepTime</strong> (<em>int</em>) – When making calls to OSRM, a sleep time is required to avoid DDoS</p></li>
<li><p><strong>osrmHeader</strong> (<em>string</em>) – optional parameter to set OSRM source</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame containing the OD matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.fetch_od.MarketAccess">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.fetch_od.</span></span><span class="sig-name descname"><span class="pre">MarketAccess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambder_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.01,</span> <span class="pre">0.005,</span> <span class="pre">0.001,</span> <span class="pre">0.0007701635,</span> <span class="pre">0.0003850818,</span> <span class="pre">0.0001925409,</span> <span class="pre">9.62704e-05,</span> <span class="pre">3.85082e-05,</span> <span class="pre">1e-05]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.fetch_od.MarketAccess" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate Market Access for a given range of lambdas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new</strong> (<em>pd.DataFrame</em>) – DataFrame containing the data for market access calculation.</p></li>
<li><p><strong>lambder_list</strong> (<em>list</em>) – List of lambda values to be used for market access calculation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DataFrame containing the market access values for each lambda.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.fetch_od.ReadMe">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.fetch_od.</span></span><span class="sig-name descname"><span class="pre">ReadMe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ffpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.fetch_od.ReadMe" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="module-GOSTnets.fetch_pois">
<span id="gostnets-fetch-pois-module"></span><h2>GOSTnets.fetch_pois module<a class="headerlink" href="#module-GOSTnets.fetch_pois" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GOSTnets.fetch_pois.</span></span><span class="sig-name descname"><span class="pre">OsmObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poly</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tags</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents an object for fetching and processing OpenStreetMap Points of Interest (POIs).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject.tags">
<span class="sig-name descname"><span class="pre">tags</span></span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject.tags" title="Permalink to this definition">#</a></dt>
<dd><p>A dictionary of tags used to filter the POIs.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject.name" title="Permalink to this definition">#</a></dt>
<dd><p>The name of the amenity.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject.bbox">
<span class="sig-name descname"><span class="pre">bbox</span></span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject.bbox" title="Permalink to this definition">#</a></dt>
<dd><p>The area within which to search for POIs.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>shapely Polygon</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject.path">
<span class="sig-name descname"><span class="pre">path</span></span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject.path" title="Permalink to this definition">#</a></dt>
<dd><p>The output folder where results are saved.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">RelationtoPoint(string):</span> <span class="pre">Converts</span> <span class="pre">a</span> <span class="pre">relation</span> <span class="pre">geometry</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">point</span> <span class="pre">geometry.</span></span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">GenerateOSMPOIs():</span> <span class="pre">Generates</span> <span class="pre">the</span> <span class="pre">OSM</span> <span class="pre">POIs</span> <span class="pre">within</span> <span class="pre">the</span> <span class="pre">specified</span> <span class="pre">area.</span></span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">RemoveDupes(buf_width,</span> <span class="pre">crs):</span> <span class="pre">Removes</span> <span class="pre">duplicate</span> <span class="pre">POIs</span> <span class="pre">within</span> <span class="pre">a</span> <span class="pre">buffer</span> <span class="pre">width.</span></span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">prepForMA():</span> <span class="pre">Prepares</span> <span class="pre">the</span> <span class="pre">results</span> <span class="pre">data</span> <span class="pre">frame</span> <span class="pre">for</span> <span class="pre">use</span> <span class="pre">in</span> <span class="pre">OSRM</span> <span class="pre">functions.</span></span></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">Save(outFolder):</span> <span class="pre">Saves</span> <span class="pre">the</span> <span class="pre">POIs</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">CSV</span> <span class="pre">file</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">specified</span> <span class="pre">output</span> <span class="pre">folder.</span></span></dt>
<dd></dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">education</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;amenity&#39;</span><span class="p">:[</span><span class="s1">&#39;school&#39;</span><span class="p">,</span> <span class="s1">&#39;kindergarten&#39;</span><span class="p">,</span><span class="s1">&#39;university&#39;</span><span class="p">,</span> <span class="s1">&#39;college&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">health</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;amenity&#39;</span><span class="p">:[</span><span class="s1">&#39;clinic&#39;</span><span class="p">,</span> <span class="s1">&#39;pharmacy&#39;</span><span class="p">,</span> <span class="s1">&#39;hospital&#39;</span><span class="p">,</span> <span class="s1">&#39;health&#39;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">crs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;init&#39;</span> <span class="p">:</span><span class="s1">&#39;epsg:4326&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buf_width</span> <span class="o">=</span> <span class="mf">0.0005</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">amenities</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">curr_amenity</span> <span class="o">=</span> <span class="n">amenities</span><span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="gp">... </span>    <span class="n">current</span> <span class="o">=</span> <span class="n">AmenityObject</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">bbox</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">current</span><span class="o">.</span><span class="n">GenerateOSMPOIs</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">current</span><span class="o">.</span><span class="n">RemoveDupes</span><span class="p">(</span><span class="n">buf_width</span><span class="p">,</span> <span class="n">crs</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">current</span><span class="o">.</span><span class="n">Save</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject.GenerateOSMPOIs">
<span class="sig-name descname"><span class="pre">GenerateOSMPOIs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject.GenerateOSMPOIs" title="Permalink to this definition">#</a></dt>
<dd><p>Generates OpenStreetMap Points of Interest (POIs) within a given bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A DataFrame containing the generated POIs.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject.RelationtoPoint">
<span class="sig-name descname"><span class="pre">RelationtoPoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject.RelationtoPoint" title="Permalink to this definition">#</a></dt>
<dd><p>Converts a relation geometry to a point geometry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> (<em>shapely.geometry</em>) – The relation geometry to be converted.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The centroid of the relation geometry if it is a Polygon,
otherwise the centroid of the MultiPolygon formed by the relation
geometry’s constituent geometries.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shapely.geometry.Point</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject.RemoveDupes">
<span class="sig-name descname"><span class="pre">RemoveDupes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buf_width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'epsg:4326'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject.RemoveDupes" title="Permalink to this definition">#</a></dt>
<dd><p>Remove duplicate geometries from the GeoDataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buf_width</strong> (<em>float</em>) – The buffer width used for checking intersection.</p></li>
<li><p><strong>crs</strong> (<em>str</em><em>, </em><em>optional</em>) – The coordinate reference system. Defaults to “epsg:4326”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The GeoDataFrame with duplicate geometries removed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject.Save">
<span class="sig-name descname"><span class="pre">Save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outFolder</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject.Save" title="Permalink to this definition">#</a></dt>
<dd><p>Save the dataframe as a CSV file in the specified output folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>outFolder</strong> (<em>str</em>) – The name of the output folder.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GOSTnets.fetch_pois.OsmObject.prepForMA">
<span class="sig-name descname"><span class="pre">prepForMA</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.fetch_pois.OsmObject.prepForMA" title="Permalink to this definition">#</a></dt>
<dd><p>Prepare results data frame for use in the OSRM functions in OD.</p>
<p>Steps:
1. Add ‘Lat’ and ‘Lon’ fields based on the x and y coordinates of the geometry.
2. Add a unique identifier ‘mID’ to each row.
3. Remove the ‘geometry’ and ‘buffer’ fields from the data frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The modified data frame with added fields and removed geometry fields.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="gostnets-load-osm-module">
<h2>GOSTnets.load_osm module<a class="headerlink" href="#gostnets-load-osm-module" title="Permalink to this heading">#</a></h2>
</section>
<section id="module-GOSTnets.network_clean">
<span id="gostnets-network-clean-module"></span><h2>GOSTnets.network_clean module<a class="headerlink" href="#module-GOSTnets.network_clean" title="Permalink to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.network_clean.clean_network">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.network_clean.</span></span><span class="sig-name descname"><span class="pre">clean_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wpath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">UTM</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'init':</span> <span class="pre">'epsg:3857'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">WGS</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'init':</span> <span class="pre">'epsg:4326'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">junctdist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.network_clean.clean_network" title="Permalink to this definition">#</a></dt>
<dd><p>Topologically simplifies an input graph object by collapsing junctions and removing interstital nodes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> (<em>networkx.graph object</em>) – a graph object containing nodes and edges. Edges should have a property called ‘Wkt’ containing geometry objects describing the roads.</p></li>
<li><p><strong>wpath</strong> (<em>str</em>) – the write path - a drive directory for inputs and output</p></li>
<li><p><strong>output_file_name</strong> (<em>str</em>) – This will be the output file name with ‘_processed’ appended</p></li>
<li><p><strong>UTM</strong> (<em>dict</em>) – The epsg code of the projection, in metres, to apply the junctdist</p></li>
<li><p><strong>WGS</strong> (<em>dict</em>) – the current crs of the graph’s geometry properties. By default, assumes WGS 84 (epsg 4326)</p></li>
<li><p><strong>junctdist</strong> (<em>int</em><em>, </em><em>float</em>) – distance within which to collapse neighboring nodes. simplifies junctions. Set to 0.1 if not simplification desired. 50m good for national (primary / secondary) networks</p></li>
<li><p><strong>verbose</strong> (<em>boolean</em>) – if True, saves down intermediate stages for dissection</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A simplified graph object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>nx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="gostnets-optimization-module">
<h2>GOSTnets.optimization module<a class="headerlink" href="#gostnets-optimization-module" title="Permalink to this heading">#</a></h2>
</section>
<section id="module-GOSTnets.osm_parser">
<span id="gostnets-osm-parser-module"></span><h2>GOSTnets.osm_parser module<a class="headerlink" href="#module-GOSTnets.osm_parser" title="Permalink to this heading">#</a></h2>
<p>source: <a class="reference external" href="https://gist.github.com/Tofull/49fbb9f3661e376d2fe08c2e9d64320e">https://gist.github.com/Tofull/49fbb9f3661e376d2fe08c2e9d64320e</a></p>
<dl class="py class">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GOSTnets.osm_parser.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.osm_parser.Node" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a node in the OpenStreetMap data.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Node.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#GOSTnets.osm_parser.Node.id" title="Permalink to this definition">#</a></dt>
<dd><p>The unique identifier of the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Node.lon">
<span class="sig-name descname"><span class="pre">lon</span></span><a class="headerlink" href="#GOSTnets.osm_parser.Node.lon" title="Permalink to this definition">#</a></dt>
<dd><p>The longitude coordinate of the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Node.lat">
<span class="sig-name descname"><span class="pre">lat</span></span><a class="headerlink" href="#GOSTnets.osm_parser.Node.lat" title="Permalink to this definition">#</a></dt>
<dd><p>The latitude coordinate of the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Node.tags">
<span class="sig-name descname"><span class="pre">tags</span></span><a class="headerlink" href="#GOSTnets.osm_parser.Node.tags" title="Permalink to this definition">#</a></dt>
<dd><p>A dictionary containing additional tags associated with the
node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.OSM">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GOSTnets.osm_parser.</span></span><span class="sig-name descname"><span class="pre">OSM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename_or_stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.osm_parser.OSM" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents an OpenStreetMap (OSM) data structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename_or_stream</strong> (<em>str</em><em> or </em><em>file object</em>) – The OSM data file name or stream.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.OSM.nodes">
<span class="sig-name descname"><span class="pre">nodes</span></span><a class="headerlink" href="#GOSTnets.osm_parser.OSM.nodes" title="Permalink to this definition">#</a></dt>
<dd><p>A dictionary of OSM nodes, where the key is the node ID and the
value is the Node object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.OSM.ways">
<span class="sig-name descname"><span class="pre">ways</span></span><a class="headerlink" href="#GOSTnets.osm_parser.OSM.ways" title="Permalink to this definition">#</a></dt>
<dd><p>A dictionary of OSM ways, where the key is the way ID and the
value is the Way object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Way">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">GOSTnets.osm_parser.</span></span><span class="sig-name descname"><span class="pre">Way</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">osm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.osm_parser.Way" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a way in the OpenStreetMap data.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Way.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#GOSTnets.osm_parser.Way.id" title="Permalink to this definition">#</a></dt>
<dd><p>The unique identifier of the way.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Way.osm">
<span class="sig-name descname"><span class="pre">osm</span></span><a class="headerlink" href="#GOSTnets.osm_parser.Way.osm" title="Permalink to this definition">#</a></dt>
<dd><p>The OpenStreetMap object that the way belongs to.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Way.nds">
<span class="sig-name descname"><span class="pre">nds</span></span><a class="headerlink" href="#GOSTnets.osm_parser.Way.nds" title="Permalink to this definition">#</a></dt>
<dd><p>The list of node references that make up the way.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Way.tags">
<span class="sig-name descname"><span class="pre">tags</span></span><a class="headerlink" href="#GOSTnets.osm_parser.Way.tags" title="Permalink to this definition">#</a></dt>
<dd><p>The dictionary of tags associated with the way.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.Way.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dividers</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.osm_parser.Way.split" title="Permalink to this definition">#</a></dt>
<dd><p>Splits the way into multiple smaller ways based on the given dividers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dividers</strong> (<em>dict</em>) – A dictionary containing the number of occurrences of each
node reference.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new Way objects, each representing a slice of the
original way.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.download_osm">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.osm_parser.</span></span><span class="sig-name descname"><span class="pre">download_osm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxyHost</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'10.0.4.2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxyPort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'3128'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cacheTempDir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'/tmp/tmpOSM/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.osm_parser.download_osm" title="Permalink to this definition">#</a></dt>
<dd><p>Downloads OpenStreetMap data for a given bounding box.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>left</strong> (<em>float</em>) – The left longitude of the bounding box.</p></li>
<li><p><strong>bottom</strong> (<em>float</em>) – The bottom latitude of the bounding box.</p></li>
<li><p><strong>right</strong> (<em>float</em>) – The right longitude of the bounding box.</p></li>
<li><p><strong>top</strong> (<em>float</em>) – The top latitude of the bounding box.</p></li>
<li><p><strong>proxy</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to use a proxy for the request. Defaults to False.</p></li>
<li><p><strong>proxyHost</strong> (<em>str</em><em>, </em><em>optional</em>) – The proxy host address. Defaults to “10.0.4.2”.</p></li>
<li><p><strong>proxyPort</strong> (<em>str</em><em>, </em><em>optional</em>) – The proxy port number. Defaults to “3128”.</p></li>
<li><p><strong>cache</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to cache the downloaded tile. Defaults to False.</p></li>
<li><p><strong>cacheTempDir</strong> (<em>str</em><em>, </em><em>optional</em>) – The directory to store the cached tile. Defaults to “/tmp/tmpOSM/”.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to print progress messages. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The downloaded OpenStreetMap tile.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>file-like object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.fetch_roads_OSM">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.osm_parser.</span></span><span class="sig-name descname"><span class="pre">fetch_roads_OSM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">osm_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">acceptedRoads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['motorway',</span> <span class="pre">'motorway_link',</span> <span class="pre">'trunk',</span> <span class="pre">'trunk_link',</span> <span class="pre">'primary',</span> <span class="pre">'primary_link',</span> <span class="pre">'secondary',</span> <span class="pre">'secondary_link',</span> <span class="pre">'tertiary',</span> <span class="pre">'tertiary_link']</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.osm_parser.fetch_roads_OSM" title="Permalink to this definition">#</a></dt>
<dd><p>Returns a GeoDataFrame of OSM roads from an OSM file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>osm_path</strong> (<em>str</em>) – path to OSM file</p></li>
<li><p><strong>acceptedRoads</strong> (<em>list</em>) – list of OSM road types</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A GeoDataFrame of OSM roads</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>gpd.GeoDataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.haversine">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.osm_parser.</span></span><span class="sig-name descname"><span class="pre">haversine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lon1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_m</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.osm_parser.haversine" title="Permalink to this definition">#</a></dt>
<dd><p>Calculate the great circle distance between two points
on the earth (specified in decimal degrees)
default unit : m</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lon1</strong> (<em>float</em>) – longitude of the first point</p></li>
<li><p><strong>lat1</strong> (<em>float</em>) – latitude of the first point</p></li>
<li><p><strong>lon2</strong> (<em>float</em>) – longitude of the second point</p></li>
<li><p><strong>lat2</strong> (<em>float</em>) – latitude of the second point</p></li>
<li><p><strong>unit_m</strong> (<em>bool</em>) – if True, return the distance in meters (default) if False,
return the distance in kilometers</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>distance between the two points</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.line_length">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.osm_parser.</span></span><span class="sig-name descname"><span class="pre">line_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ellipsoid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'WGS-84'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.osm_parser.line_length" title="Permalink to this definition">#</a></dt>
<dd><p>Returns length of a line in kilometers, given in geographic
coordinates. Adapted from
<a class="reference external" href="https://gis.stackexchange.com/questions/4022/looking-for-a-pythonic-way-to-calculate-the-length-of-a-wkt-linestring#answer-115285">https://gis.stackexchange.com/questions/4022/looking-for-a-pythonic-way-to-calculate-the-length-of-a-wkt-linestring#answer-115285</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> (<em>shapely.geometry.LineString</em>) – A shapely LineString object with WGS-84 coordinates</p></li>
<li><p><strong>ellipsoid</strong> (<em>str</em>) – string name of an ellipsoid that <cite>geopy</cite> understands (see
<a class="reference external" href="http://geopy.readthedocs.io/en/latest/#module-geopy.distance">http://geopy.readthedocs.io/en/latest/#module-geopy.distance</a>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Length of line in kilometers</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="GOSTnets.osm_parser.read_osm">
<span class="sig-prename descclassname"><span class="pre">GOSTnets.osm_parser.</span></span><span class="sig-name descname"><span class="pre">read_osm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename_or_stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_roads</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#GOSTnets.osm_parser.read_osm" title="Permalink to this definition">#</a></dt>
<dd><p>Read graph in OSM format from file specified by name or by stream object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename_or_stream</strong> (<em>string</em><em> or </em><em>file</em>) – The filename or stream to read. File can be either a filename
or stream/file object.</p></li>
<li><p><strong>only_roads</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to only read roads. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The graph from the OSM file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>networkx multidigraph</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">G</span><span class="o">=</span><span class="n">nx</span><span class="o">.</span><span class="n">read_osm</span><span class="p">(</span><span class="n">nx</span><span class="o">.</span><span class="n">download_osm</span><span class="p">(</span><span class="o">-</span><span class="mf">122.33</span><span class="p">,</span><span class="mf">47.60</span><span class="p">,</span><span class="o">-</span><span class="mf">122.31</span><span class="p">,</span><span class="mf">47.61</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">G</span><span class="o">.</span><span class="n">node</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">&#39;lat&#39;</span><span class="p">]</span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">G</span><span class="p">],</span> <span class="p">[</span><span class="n">G</span><span class="o">.</span><span class="n">node</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="s1">&#39;lon&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">G</span><span class="p">],</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-GOSTnets">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-GOSTnets" title="Permalink to this heading">#</a></h2>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.calculate_od_raw">GOSTnets.calculate_od_raw module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.calculate_od_raw.calculateOD_csv"><code class="docutils literal notranslate"><span class="pre">calculateOD_csv()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.calculate_od_raw.calculateOD_gdf"><code class="docutils literal notranslate"><span class="pre">calculateOD_gdf()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.calculate_od_raw.calculate_gravity"><code class="docutils literal notranslate"><span class="pre">calculate_gravity()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.conversion_utils">GOSTnets.conversion_utils module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.conversion_utils.rasterize_od_results"><code class="docutils literal notranslate"><span class="pre">rasterize_od_results()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.core">GOSTnets.core module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.add_intersection_delay"><code class="docutils literal notranslate"><span class="pre">add_intersection_delay()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.add_missing_reflected_edges"><code class="docutils literal notranslate"><span class="pre">add_missing_reflected_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.add_missing_reflected_edges_old"><code class="docutils literal notranslate"><span class="pre">add_missing_reflected_edges_old()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.advanced_snap"><code class="docutils literal notranslate"><span class="pre">advanced_snap()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.assign_traffic_times"><code class="docutils literal notranslate"><span class="pre">assign_traffic_times()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.calculate_OD"><code class="docutils literal notranslate"><span class="pre">calculate_OD()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.clip"><code class="docutils literal notranslate"><span class="pre">clip()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.combo_csv_to_graph"><code class="docutils literal notranslate"><span class="pre">combo_csv_to_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.convert_network_to_time"><code class="docutils literal notranslate"><span class="pre">convert_network_to_time()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.convert_to_MultiDiGraph"><code class="docutils literal notranslate"><span class="pre">convert_to_MultiDiGraph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.custom_simplify"><code class="docutils literal notranslate"><span class="pre">custom_simplify()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.disrupt_network"><code class="docutils literal notranslate"><span class="pre">disrupt_network()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.edge_gdf_from_graph"><code class="docutils literal notranslate"><span class="pre">edge_gdf_from_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.edges_and_nodes_csv_to_graph"><code class="docutils literal notranslate"><span class="pre">edges_and_nodes_csv_to_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.edges_and_nodes_gdf_to_graph"><code class="docutils literal notranslate"><span class="pre">edges_and_nodes_gdf_to_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.euclidean_distance"><code class="docutils literal notranslate"><span class="pre">euclidean_distance()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.example_edge"><code class="docutils literal notranslate"><span class="pre">example_edge()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.example_node"><code class="docutils literal notranslate"><span class="pre">example_node()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.find_graph_avg_speed"><code class="docutils literal notranslate"><span class="pre">find_graph_avg_speed()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.find_hwy_distances_by_class"><code class="docutils literal notranslate"><span class="pre">find_hwy_distances_by_class()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.generate_isochrones"><code class="docutils literal notranslate"><span class="pre">generate_isochrones()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.gn_project_graph"><code class="docutils literal notranslate"><span class="pre">gn_project_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.graph_edges_intersecting_polygon"><code class="docutils literal notranslate"><span class="pre">graph_edges_intersecting_polygon()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.graph_nodes_intersecting_polygon"><code class="docutils literal notranslate"><span class="pre">graph_nodes_intersecting_polygon()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.gravity_demand"><code class="docutils literal notranslate"><span class="pre">gravity_demand()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.join_networks"><code class="docutils literal notranslate"><span class="pre">join_networks()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.make_iso_polys"><code class="docutils literal notranslate"><span class="pre">make_iso_polys()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.make_iso_polys_original"><code class="docutils literal notranslate"><span class="pre">make_iso_polys_original()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.new_edge_generator"><code class="docutils literal notranslate"><span class="pre">new_edge_generator()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.node_gdf_from_graph"><code class="docutils literal notranslate"><span class="pre">node_gdf_from_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap"><code class="docutils literal notranslate"><span class="pre">pandana_snap()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap_c"><code class="docutils literal notranslate"><span class="pre">pandana_snap_c()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap_points"><code class="docutils literal notranslate"><span class="pre">pandana_snap_points()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap_single_point"><code class="docutils literal notranslate"><span class="pre">pandana_snap_single_point()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.pandana_snap_to_many"><code class="docutils literal notranslate"><span class="pre">pandana_snap_to_many()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.project_gdf"><code class="docutils literal notranslate"><span class="pre">project_gdf()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.randomly_disrupt_network"><code class="docutils literal notranslate"><span class="pre">randomly_disrupt_network()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.remove_duplicate_edges"><code class="docutils literal notranslate"><span class="pre">remove_duplicate_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.reproject_graph"><code class="docutils literal notranslate"><span class="pre">reproject_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.salt_long_lines"><code class="docutils literal notranslate"><span class="pre">salt_long_lines()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.sample_raster"><code class="docutils literal notranslate"><span class="pre">sample_raster()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.save"><code class="docutils literal notranslate"><span class="pre">save()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.simplify_junctions"><code class="docutils literal notranslate"><span class="pre">simplify_junctions()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.unbundle_geometry"><code class="docutils literal notranslate"><span class="pre">unbundle_geometry()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.core.utm_of_graph"><code class="docutils literal notranslate"><span class="pre">utm_of_graph()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.fetch_od">GOSTnets.fetch_od module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_od.CreateODMatrix"><code class="docutils literal notranslate"><span class="pre">CreateODMatrix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_od.MarketAccess"><code class="docutils literal notranslate"><span class="pre">MarketAccess()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_od.ReadMe"><code class="docutils literal notranslate"><span class="pre">ReadMe()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.fetch_pois">GOSTnets.fetch_pois module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject"><code class="docutils literal notranslate"><span class="pre">OsmObject</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.tags"><code class="docutils literal notranslate"><span class="pre">OsmObject.tags</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.name"><code class="docutils literal notranslate"><span class="pre">OsmObject.name</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.bbox"><code class="docutils literal notranslate"><span class="pre">OsmObject.bbox</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.path"><code class="docutils literal notranslate"><span class="pre">OsmObject.path</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.GenerateOSMPOIs"><code class="docutils literal notranslate"><span class="pre">OsmObject.GenerateOSMPOIs()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.RelationtoPoint"><code class="docutils literal notranslate"><span class="pre">OsmObject.RelationtoPoint()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.RemoveDupes"><code class="docutils literal notranslate"><span class="pre">OsmObject.RemoveDupes()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.Save"><code class="docutils literal notranslate"><span class="pre">OsmObject.Save()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.fetch_pois.OsmObject.prepForMA"><code class="docutils literal notranslate"><span class="pre">OsmObject.prepForMA()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gostnets-load-osm-module">GOSTnets.load_osm module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.network_clean">GOSTnets.network_clean module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.network_clean.clean_network"><code class="docutils literal notranslate"><span class="pre">clean_network()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gostnets-optimization-module">GOSTnets.optimization module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets.osm_parser">GOSTnets.osm_parser module</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node"><code class="docutils literal notranslate"><span class="pre">Node</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node.id"><code class="docutils literal notranslate"><span class="pre">Node.id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node.lon"><code class="docutils literal notranslate"><span class="pre">Node.lon</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node.lat"><code class="docutils literal notranslate"><span class="pre">Node.lat</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Node.tags"><code class="docutils literal notranslate"><span class="pre">Node.tags</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.OSM"><code class="docutils literal notranslate"><span class="pre">OSM</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.OSM.nodes"><code class="docutils literal notranslate"><span class="pre">OSM.nodes</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.OSM.ways"><code class="docutils literal notranslate"><span class="pre">OSM.ways</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way"><code class="docutils literal notranslate"><span class="pre">Way</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.id"><code class="docutils literal notranslate"><span class="pre">Way.id</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.osm"><code class="docutils literal notranslate"><span class="pre">Way.osm</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.nds"><code class="docutils literal notranslate"><span class="pre">Way.nds</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.tags"><code class="docutils literal notranslate"><span class="pre">Way.tags</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.Way.split"><code class="docutils literal notranslate"><span class="pre">Way.split()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.download_osm"><code class="docutils literal notranslate"><span class="pre">download_osm()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.fetch_roads_OSM"><code class="docutils literal notranslate"><span class="pre">fetch_roads_OSM()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.haversine"><code class="docutils literal notranslate"><span class="pre">haversine()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.line_length"><code class="docutils literal notranslate"><span class="pre">line_length()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#GOSTnets.osm_parser.read_osm"><code class="docutils literal notranslate"><span class="pre">read_osm()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-GOSTnets">Module contents</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Benjamin P. Stewart
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>